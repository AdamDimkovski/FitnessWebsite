<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Log In</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="images/favicon.png">
  
  <link rel="stylesheet" href="style-login.css">

  <!-- Firebase App (compat version) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>

  <!-- Firebase Authentication (compat version) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

  <!-- Firebase Firestore (compat version) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

</head>
<body>

<!-- Navigation Bar -->
<nav class="navbar">
  <ul class="nav-list">

    <li class="nav-item">
      <a href="index.html">Home</a>
    </li>

    <li class="nav-item">
      <a href="calculator.html">Maintenance Calculator</a>
    </li>

    <li class="nav-item">
      <a href="food.html">Diet Tracker</a>
    </li>

    <li class="nav-item">
      <a href="exercise.html">Workout Tracker</a>
    </li>

    <!-- Auth‑controlled items -->
    <li class="nav-item" id="signupLink">
      <a href="sign-up.html">Sign Up</a>
    </li>

    <li class="nav-item" id="loginLink">
      <a href="log-in.html">Log In</a>
    </li>

    <li class="nav-item" id="profileLink">
      <a href="profile.html">Profile</a>
    </li>

    <li class="nav-item" id="logoutLink">
      <a href="#">Log Out</a>
    </li>

  </ul>
</nav>

<!-- HEADER -->
<header class="auth-header">
  <h1>Welcome back</h1>
  <p>Log in to continue your fitness journey.</p>
</header>

<!-- LOGIN CARD -->
<div class="auth-card">
  <form id="loginForm">

    <div class="form-group">
      <label for="loginEmail">Email</label>
      <input
        type="email"
        id="loginEmail"
        placeholder="Enter your email"
        required
      >
    </div>

    <div class="form-group">
      <label for="loginPassword">Password</label>
      <input
        type="password"
        id="loginPassword"
        placeholder="Enter your password"
        required
      >
    </div>

    <div class="form-options">
      <label class="checkbox">
        <input type="checkbox" id="showPassword">
        <span>Show password</span>
      </label>
    </div>

    <button type="submit" class="primary-btn">Log In</button>

  </form>
</div>

<!-- REDIRECT -->
<p class="auth-redirect">
  Don’t have an account?
  <a href="sign-up.html">Sign up here</a>
</p>

<!-- Firebase config -->
<script src="firebase.js"></script>
<script src="script.js"></script>

<script>
  // Toggle password
  document.getElementById("showPassword").addEventListener("change", e => {
    document.getElementById("loginPassword").type =
      e.target.checked ? "text" : "password";
  });

  // Login handler
  document.getElementById("loginForm").addEventListener("submit", e => {
    e.preventDefault();

    const email = loginEmail.value.trim();
    const password = loginPassword.value;

    firebase.auth().signInWithEmailAndPassword(email, password)
      .then(() => {
        window.location.href = "index.html";
      })
      .catch(err => {
        alert(err.message);
      });
  });
</script>

<!-- Footer -->
<footer class="page-footer">
  <span class="footer-text">Litness</span>
</footer>

</body>
</html>
