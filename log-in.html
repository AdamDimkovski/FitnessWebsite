<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Log In</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="images/favicon.png">
  
  <link rel="stylesheet" href="style-login.css">

  <!-- Firebase App (compat version) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>

  <!-- Firebase Authentication (compat version) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

  <!-- Firebase Firestore (compat version) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

</head>
<body>

<!-- Navigation Bar -->
<nav>
    <nav-content>
    <a href="index.html">Home</a>
    </nav-content> 
    <nav-content>
    <a href="calculator.html">Maintenance Calculator</a>
    </nav-content>
    <nav-content>
    <a href="food.html">Diet Tracker</a>
    </nav-content>
    <nav-content>
    <a href="exercise.html">Workout Tracker</a>
    </nav-content>
    <nav-content id="signupLink">
    <a href="sign-up.html">Sign Up</a>
    </nav-content>
    <nav-content id="loginLink">
    <a href="log-in.html">Log In</a>
    </nav-content>
    <nav-content id="logoutLink" style="display:none;">
    <a href="#">Log Out</a>
    </nav-content>
</nav>

<h1>Log In</h1>
  <p>Enter your account details below.</p>

<div class="login-block">
  <form id="loginForm">
    <input type="email" id="loginEmail" placeholder="Email" required>
    <input type="password" id="loginPassword" placeholder="Password" required>
    <label>
      Show Password <input type="checkbox" onclick="togglePassword()">
    </label>

    <script>
      function togglePassword() {
        var x = document.getElementById("loginPassword");
        x.type = (x.type === "password") ? "text" : "password";
      }

      // Handle login
      document.getElementById("loginForm").addEventListener("submit", function(e) {
        e.preventDefault();
        var email = document.getElementById("loginEmail").value;
        var password = document.getElementById("loginPassword").value;

        firebase.auth().signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            // Logged in
            alert("Login successful!");
            window.location.href = "index.html"; // redirect after login
          })
          .catch((error) => {
            alert(error.message);
          });
      });
    </script>

    <button type="submit">Log In</button>
  </form>
</div>

<!-- Redirect for Sign Up -->
 <p>Want to create a account? <a href="sign-up.html">Sign Up here.</a></p>


  <!-- Your Firebase config -->
  <script src="firebase.js"></script>
  <script src="script.js"></script>

</body>

<!-- Footer -->
<page-footer>
  <a>Made by Adam Dimkovski</a><br>
  <footer-text>Litness Fitness</footer-text>
</page-footer>

</html>
